<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø§Ù„ØµÙØ­Ø© 1</title>
<style>
  :root {
    --bg: #0f172a;
    --card: #111827;
    --text: #e5e7eb;
    --muted: #9ca3af;
    --accent: #22c55e;
    --accent-2: #3b82f6;
    --btn-bg: #1f2937;
    --btn-hover: #374151;
    --shadow: 0 10px 25px rgba(0,0,0,.35);
    --radius: 18px;
    --danger: #ef4444;
    --danger-hover: #dc2626;
  }
  * { box-sizing: border-box; }
  html, body {
    margin: 0; padding: 0; background: var(--bg); color: var(--text);
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Naskh Arabic", Arial, sans-serif;
  }
  .wrap { min-height: 100vh; display: grid; place-items: center; padding: 24px; }
  .card {
    width: min(920px, 96vw); background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
    border: 1px solid rgba(255,255,255,.08);
    border-radius: var(--radius); padding: 28px; box-shadow: var(--shadow);
    backdrop-filter: blur(6px);
  }
  h1 { margin: 0 0 10px; font-size: clamp(26px, 3.5vw, 40px); letter-spacing: .2px; }
  p.lead { margin: 0 0 26px; color: var(--muted); }
  .grid {
    display: grid; gap: 14px;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }
  a.btn, button.btn {
    display: inline-block; text-decoration: none; text-align: center; cursor: pointer;
    background: var(--btn-bg); color: var(--text); padding: 14px 16px;
    border-radius: 14px; border: 1px solid rgba(255,255,255,.08);
    transition: transform .12s ease, background .12s ease, border-color .12s ease;
    box-shadow: 0 6px 14px rgba(0,0,0,.25);
    font-family: inherit; font-size: inherit;
  }
  a.btn:hover, button.btn:hover { background: var(--btn-hover); transform: translateY(-1px); }
  a.btn.primary, button.btn.primary { background: var(--accent-2); border-color: transparent; color: #fff; }
  .btn.success { background: var(--accent); border-color: transparent; color: #fff; }
  .btn.danger { background: var(--danger); border-color: transparent; color: #fff; }
  .btn.danger:hover { background: var(--danger-hover); }
  
  .upload-section {
    margin: 24px 0;
    padding: 24px;
    border: 2px dashed rgba(255,255,255,.1);
    border-radius: var(--radius);
    text-align: center;
    transition: border-color .3s ease, background-color .3s ease;
  }
  .upload-section.dragover {
    border-color: var(--accent-2);
    background: rgba(59, 130, 246, .05);
  }
  
  .config-section {
    margin: 24px 0;
    padding: 20px;
    background: rgba(255,255,255,.02);
    border-radius: var(--radius);
  }
  
  input[type="file"] {
    width: 100%;
    padding: 12px;
    background: var(--btn-bg);
    border: 1px solid rgba(255,255,255,.08);
    border-radius: 10px;
    color: var(--text);
  }
  
  .files-list {
    margin: 24px 0;
  }
  
  .file-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px;
    background: rgba(255,255,255,.02);
    border-radius: 10px;
    margin-bottom: 8px;
  }
  
  .file-info {
    flex: 1;
  }
  
  .file-name {
    font-weight: 500;
    color: var(--text);
  }
  
  .file-size {
    font-size: 12px;
    color: var(--muted);
  }
  
  .file-actions {
    display: flex;
    gap: 8px;
  }
  
  .btn-small {
    padding: 6px 12px;
    font-size: 12px;
  }
  
  .status-message {
    margin: 16px 0;
    padding: 12px;
    border-radius: 10px;
    text-align: center;
  }
  
  .status-success {
    background: rgba(34, 197, 94, .1);
    color: var(--accent);
    border: 1px solid rgba(34, 197, 94, .2);
  }
  
  .status-error {
    background: rgba(239, 68, 68, .1);
    color: var(--danger);
    border: 1px solid rgba(239, 68, 68, .2);
  }
  
  .status-info {
    background: rgba(59, 130, 246, .1);
    color: var(--accent-2);
    border: 1px solid rgba(59, 130, 246, .2);
  }
  
  .hidden {
    display: none;
  }
  
  .progress {
    width: 100%;
    height: 6px;
    background: rgba(255,255,255,.1);
    border-radius: 3px;
    overflow: hidden;
    margin: 8px 0;
  }
  
  .progress-bar {
    height: 100%;
    background: var(--accent-2);
    width: 0%;
    transition: width .3s ease;
  }
  
  .token-warning {
    background: rgba(245, 158, 11, .1);
    color: #f59e0b;
    border: 1px solid rgba(245, 158, 11, .2);
    padding: 16px;
    border-radius: 10px;
    margin: 16px 0;
    text-align: center;
  }
  
  footer { margin-top: 18px; color: var(--muted); font-size: 13px; }
</style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <h1>Ø§Ù„ØµÙØ­Ø© 1</h1>
      <p class="lead">Ù‡Ø°Ù‡ ØµÙØ­Ø© Ø§Ù„ØµÙØ­Ø© 1.</p>
      
      <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ -->
      <div class="config-section">
        <h3>Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„</h3>
        <div id="connection-status">
          <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ GitHub...</p>
        </div>
      </div>
      
      <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹ -->
      <div class="upload-section" id="upload-area">
        <h3>Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</h3>
        <p>Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</p>
        <input type="file" id="file-input" multiple style="margin: 16px 0;">
        <button class="btn primary" onclick="uploadFiles()">Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</button>
        <div class="progress hidden" id="upload-progress">
          <div class="progress-bar" id="progress-bar"></div>
        </div>
      </div>
      
      <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø­Ø§Ù„Ø© -->
      <div id="status-message" class="hidden"></div>
      
      <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª -->
      <div class="files-list">
        <h3>Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</h3>
        <button class="btn" onclick="loadFiles()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
        <div id="files-container">
          <!-- Ø³ÙŠØªÙ… Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª Ù‡Ù†Ø§ -->
        </div>
      </div>
      
      <a class="btn primary" href="index.html">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      
      <footer>
        <p>âœ… <strong>Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:</strong> ØªÙ… ØªÙƒÙˆÙŠÙ† GitHub Token Ø¨Ù†Ø¬Ø§Ø­</p>
      </footer>
    </div>
  </div>

  <script>
    // âš ï¸ GitHub Token (ØªÙ… ØªÙƒÙˆÙŠÙ†Ù‡) âš ï¸
    const githubToken = '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';
    const githubRepo = 'hypenet2233/static-site';
    const apiBase = 'https://api.github.com/repos';
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    async function checkConnection() {
      const statusDiv = document.getElementById('connection-status');
      
      if (!githubToken || githubToken === 'Ø¶Ø¹_Ø§Ù„ØªÙˆÙƒÙ†_Ù‡Ù†Ø§' || githubToken.length < 20) {
        statusDiv.innerHTML = `
          <div class="token-warning">
            <strong>ØªØ­Ø°ÙŠØ±:</strong> ÙŠØ¬Ø¨ ÙˆØ¶Ø¹ GitHub Token ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹
            <br><small>Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø³Ø·Ø± 230 ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ ÙˆØ¶Ø¹ Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</small>
          </div>
        `;
        return false;
      }
      
      try {
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
        const repoResponse = await fetch(`${apiBase}/${githubRepo}`, {
          headers: {
            'Authorization': `token ${githubToken}`,
          }
        });
        
        if (repoResponse.ok) {
          // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ uploads Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
          await createUploadsFolder();
          
          statusDiv.innerHTML = `
            <div class="status-success">
              <strong>âœ… Ù…ØªØµÙ„ Ø¨Ù†Ø¬Ø§Ø­:</strong> ${githubRepo}
              <br><small>Ø¬Ø§Ù‡Ø² Ù„Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</small>
            </div>
          `;
          return true;
        } else {
          statusDiv.innerHTML = `
            <div class="status-error">
              <strong>âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„:</strong> ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ† ÙˆØ§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
              <br><small>ÙƒÙˆØ¯ Ø§Ù„Ø®Ø·Ø£: ${repoResponse.status}</small>
            </div>
          `;
          return false;
        }
      } catch (error) {
        statusDiv.innerHTML = `
          <div class="status-error">
            <strong>âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©:</strong> ${error.message}
          </div>
        `;
        return false;
      }
    }
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ uploads Ù…Ø¹ README Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
    async function createUploadsFolder() {
      try {
        const readmeUrl = `${apiBase}/${githubRepo}/contents/uploads/README.md`;
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù„Ù
        const checkResponse = await fetch(readmeUrl, {
          headers: {
            'Authorization': `token ${githubToken}`,
          }
        });
        
        // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹ØŒ Ø£Ù†Ø´Ø¦Ù‡
        if (checkResponse.status === 404) {
          const readmeContent = btoa('# Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø±ÙØ¹\n\nÙŠØ­ØªÙˆÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹.\n');
          
          await fetch(readmeUrl, {
            method: 'PUT',
            headers: {
              'Authorization': `token ${githubToken}`,
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              message: 'Create uploads folder with README',
              content: readmeContent,
              branch: 'main'
            })
          });
        }
      } catch (error) {
        console.log('ØªØ­Ø°ÙŠØ±: Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ uploads ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹');
      }
    }
    
    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„Ø©
    function showMessage(message, type) {
      const statusDiv = document.getElementById('status-message');
      statusDiv.textContent = message;
      statusDiv.className = `status-message status-${type}`;
      statusDiv.classList.remove('hidden');
      
      setTimeout(() => {
        statusDiv.classList.add('hidden');
      }, 5000);
    }
    
    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰ base64
    function fileToBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = () => {
          const base64 = reader.result.split(',')[1];
          resolve(base64);
        };
        reader.onerror = error => reject(error);
      });
    }
    
    // Ø±ÙØ¹ Ù…Ù„Ù Ø¥Ù„Ù‰ GitHub
    async function uploadFileToGitHub(file, content) {
      const url = `${apiBase}/${githubRepo}/contents/uploads/${file.name}`;
      
      try {
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù„Ù Ø£ÙˆÙ„Ø§Ù‹
        const checkResponse = await fetch(url, {
          headers: {
            'Authorization': `token ${githubToken}`,
          }
        });
        
        let sha = null;
        if (checkResponse.ok) {
          const existingFile = await checkResponse.json();
          sha = existingFile.sha;
        }
        
        const requestBody = {
          message: `Upload ${file.name}`,
          content: content,
          branch: 'main'
        };
        
        if (sha) {
          requestBody.sha = sha; // Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯
        }
        
        const response = await fetch(url, {
          method: 'PUT',
          headers: {
            'Authorization': `token ${githubToken}`,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(requestBody)
        });
        
        if (response.ok) {
          return { success: true, data: await response.json() };
        } else {
          const errorData = await response.json();
          return { success: false, error: errorData.message };
        }
      } catch (error) {
        return { success: false, error: error.message };
      }
    }
    
    // Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
    async function uploadFiles() {
      if (!githubToken || githubToken === 'Ø¶Ø¹_Ø§Ù„ØªÙˆÙƒÙ†_Ù‡Ù†Ø§' || githubToken.length < 20) {
        showMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª GitHub Token', 'error');
        return;
      }
      
      const fileInput = document.getElementById('file-input');
      const files = fileInput.files;
      
      if (files.length === 0) {
        showMessage('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„', 'error');
        return;
      }
      
      const progressDiv = document.getElementById('upload-progress');
      const progressBar = document.getElementById('progress-bar');
      
      progressDiv.classList.remove('hidden');
      showMessage('ğŸš€ Ø¨Ø¯Ø¡ Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª...', 'info');
      
      let successCount = 0;
      let failCount = 0;
      
      for (let i = 0; i < files.length; i++) {
        const file = files[i];
        const progress = ((i + 1) / files.length) * 100;
        progressBar.style.width = progress + '%';
        
        try {
          const base64Content = await fileToBase64(file);
          const result = await uploadFileToGitHub(file, base64Content);
          
          if (result.success) {
            successCount++;
          } else {
            failCount++;
            console.error(`ÙØ´Ù„ Ø±ÙØ¹ ${file.name}:`, result.error);
          }
        } catch (error) {
          failCount++;
          console.error(`Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© ${file.name}:`, error);
        }
      }
      
      progressDiv.classList.add('hidden');
      progressBar.style.width = '0%';
      
      if (successCount > 0 && failCount === 0) {
        showMessage(`âœ… ØªÙ… Ø±ÙØ¹ ${successCount} Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­`, 'success');
      } else if (successCount > 0 && failCount > 0) {
        showMessage(`âš ï¸ ØªÙ… Ø±ÙØ¹ ${successCount} Ù…Ù„ÙØŒ ÙØ´Ù„ Ø±ÙØ¹ ${failCount} Ù…Ù„Ù`, 'error');
      } else {
        showMessage('âŒ ÙØ´Ù„ Ø±ÙØ¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª', 'error');
      }
      
      // Ù…Ø³Ø­ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
      fileInput.value = '';
      loadFiles();
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ù† GitHub
    async function loadFiles() {
      if (!githubToken || githubToken === 'Ø¶Ø¹_Ø§Ù„ØªÙˆÙƒÙ†_Ù‡Ù†Ø§' || githubToken.length < 20) {
        showMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª GitHub Token', 'error');
        return;
      }
      
      const url = `${apiBase}/${githubRepo}/contents/uploads`;
      
      try {
        const response = await fetch(url, {
          headers: {
            'Authorization': `token ${githubToken}`,
          }
        });
        
        if (response.ok) {
          const files = await response.json();
          displayFiles(files);
        } else if (response.status === 404) {
          showMessage('ğŸ“ Ù…Ø¬Ù„Ø¯ uploads ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ØŒ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¹Ù†Ø¯ Ø±ÙØ¹ Ø£ÙˆÙ„ Ù…Ù„Ù', 'info');
          displayFiles([]);
        } else {
          showMessage('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª', 'error');
        }
      } catch (error) {
        showMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ GitHub', 'error');
      }
    }
    
    // Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª
    function displayFiles(files) {
      const container = document.getElementById('files-container');
      
      if (files.length === 0) {
        container.innerHTML = '<p style="color: var(--muted); text-align: center;">ğŸ“‚ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª Ù…Ø±ÙÙˆØ¹Ø©</p>';
        return;
      }
      
      const fileItems = files
        .filter(file => file.type === 'file' && file.name !== 'README.md')
        .map(file => {
          const sizeKB = Math.round((file.size || 0) / 1024);
          return `
            <div class="file-item">
              <div class="file-info">
                <div class="file-name">ğŸ“„ ${file.name}</div>
                <div class="file-size">${sizeKB} KB</div>
              </div>
              <div class="file-actions">
                <button class="btn btn-small" onclick="downloadFile('${file.name}', '${file.download_url}')">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„</button>
                <button class="btn danger btn-small" onclick="deleteFile('${file.name}', '${file.sha}')">ğŸ—‘ï¸ Ø­Ø°Ù</button>
              </div>
            </div>
          `;
        })
        .join('');
      
      container.innerHTML = fileItems;
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù
    function downloadFile(fileName, downloadUrl) {
      const a = document.createElement('a');
      a.href = downloadUrl;
      a.download = fileName;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }
    
    // Ø­Ø°Ù Ù…Ù„Ù
    async function deleteFile(fileName, sha) {
      if (!confirm(`ğŸ—‘ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ${fileName}ØŸ`)) {
        return;
      }
      
      const url = `${apiBase}/${githubRepo}/contents/uploads/${fileName}`;
      
      try {
        const response = await fetch(url, {
          method: 'DELETE',
          headers: {
            'Authorization': `token ${githubToken}`,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            message: `Delete ${fileName}`,
            sha: sha,
            branch: 'main'
          })
        });
        
        if (response.ok) {
          showMessage(`âœ… ØªÙ… Ø­Ø°Ù ${fileName} Ø¨Ù†Ø¬Ø§Ø­`, 'success');
          loadFiles();
        } else {
          showMessage(`âŒ ÙØ´Ù„ Ø­Ø°Ù ${fileName}`, 'error');
        }
      } catch (error) {
        showMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ù„Ù', 'error');
      }
    }
    
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
    function setupDragAndDrop() {
      const uploadArea = document.getElementById('upload-area');
      
      uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('dragover');
      });
      
      uploadArea.addEventListener('dragleave', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('dragover');
      });
      
      uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('dragover');
        
        const files = e.dataTransfer.files;
        document.getElementById('file-input').files = files;
      });
    }
    
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    document.addEventListener('DOMContentLoaded', async () => {
      setupDragAndDrop();
      
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª
      const isConnected = await checkConnection();
      if (isConnected) {
        loadFiles();
      }
    });
  </script>
</body>
</html>